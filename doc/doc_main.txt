Подключение к БД идет из файла maindb.py

Поскольку подключаться приходится не только для главного файла, а импортируя файл происходит его запуск,
то есть импортируя главный файл во второстепенном получаем перезапуск кода.

В торговце для классов игры и страны я сохранял ссылки на классы ресурсов и прочего.
Сейчас сразу сохраняется экземпляр.
Насколько я понимаю это не даст возможность глобально менять сразу все параметры.

Новые пользователи и таблицы. Добавлен в gitignore
new.py
new_check.py

/post_chat
Внутриигровой чат. Не доделан. Сохраняется в Редис.


!!!!!!!!!!!!!!!!!!!!
Обсчет хода и восстановление данных.
После всех проверок, запускается функция calculate_turn(game_id) в world.py
У нее только один аргумент, это ид партии, по нему она находит файл из которого восстанавливает данные:
В функции создается переменная game.
    game = FirstWorld(game_id)  # Тут создаем временный экземпляр класса с только одним аргументом
    game.load_from_file(game_id)  # И сразу запускаем у него метод восстановления
Среди прочего восстанавливается список династий. По нему делаем цикл "восстанавливая" династии.
    for dynasty_name in game.dynasty_list:
        game.restore_dynasty(game_id, game.player_list[dynasty_player_id], dynasty_name)




!!!!!!!!!!!!!!!!!!!!
TODO
На данный момент новому поселению мы присваиваем в качестве row_id id игрока,
что в дальнейшем приведет к проблемам, нужна выдача порядкового id